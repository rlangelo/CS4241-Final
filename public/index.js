var programLists = [{
    Title: "Altium",
    DwldFile: "/files/Altium.zip",
    ImagePath: "/icons/Altium.jpg",
    Instructions: "http://techdocs.altium.com/display/ADOH/Offline+Installation+of+Altium+Designer"
},
{
    Title: "Audacity",
    DwldFile: "/files/Audacity.zip",
    ImagePath: "/icons/Audacity.png",
    Instructions: "http://manual.audacityteam.org/o/man/faq_installation_and_plug_ins.html"
},
{
    Title: "AutoCAD",
    DwldFile: "/files/AutoCad.zip",
    ImagePath: "/icons/AutoCAD.png",
    Instructions: "https://www.wpi.edu/Academics/CCC/Help/Software/Installs/autocad.html"
},
{
    Title: "CD Burner XP",
    DwldFile: "/files/CDBurnerXP.zip",
    ImagePath: "/icons/CD-Burner-XP.png",
    Instructions: "https://www.winhelp.us/install-cdburnerxp.html"
},
{
    Title: "CES Edupack",
    DwldFile: "/files/CESEdupack.zip",
    ImagePath: "/icons/CESEduPack.jpg",
    Instructions: "https://www.grantadesign.com/download/pdf/edupack2015/InstallationGuide_2015.pdf"
},
{
    Title: "ChemDrawPro",
    DwldFile: "/files/ChemDrawPro.zip",
    ImagePath: "/icons/ChemDrawPro.png",
    Instructions: "http://www.cambridgesoft.com/support/ProductHomePage.aspx?KBCatID=2"
},
{
    Title: "Civil3D",
    DwldFile: "/files/Civil3D.zip",
    ImagePath: "/icons/Civil3D.jpeg",
    Instructions: "http://help.autodesk.com/view/CIV3D/2016/ENU/?guid=GUID-8840048B-BA54-43AC-8AB3-B924D8517DE7"
},
{
    Title: "Creo",
    DwldFile: "/files/Creo.zip",
    ImagePath: "/icons/Creo.png",
    Instructions: "http://ist.njit.edu/ist/files/lcms/software/Creo2.pdf"
},
{
    Title: "Cumulus",
    DwldFile: "/files/Cumulus.zip",
    ImagePath: "/icons/Cumulus.jpg",
    Instructions: "http://sandaysoft.com/download/Cumulus%20basic%20installation%20guide.pdf"
},
{
    Title: "Dr Java",
    DwldFile: "/files/DrJava.zip",
    ImagePath: "/icons/drjava.png",
    Instructions: "http://www.drjava.org/docs/quickstart.pdf"
},
{
    Title: "Ecopy",
    DwldFile: "/files/Ecopy.zip",
    ImagePath: "/icons/ecopy.png",
    Instructions: "http://supportcontent.nuance.com/eCopy/ShareScan5/Ricoh/Ricoh%20Installation%20Guide.pdf"
},
{
    Title: "EndNote",
    DwldFile: "/files/EndNote.zip",
    ImagePath: "/icons/EndNote.jpg",
    Instructions: "http://endnote.com/support/faqs/endnote/install"
},
{
    Title: "Flip4Mac",
    DwldFile: "/files/Flip4Mac.zip",
    ImagePath: "/icons/Flip4Mac.jpg",
    Instructions: "http://www.telestream.net/pdfs/user-guides/Flip4Mac-WMV-User-Guide.pdf"
},
{
    Title: "Four Winds",
    DwldFile: "/files/FourWinds.zip",
    ImagePath: "/icons/FourWinds.png",
    Instructions: "http://www.uh.edu/infotech/_documents/digital-signage/2013.06_content_player_setup_guide.pdf"
},
{
    Title: "Internet Explorer 11",
    DwldFile: "/files/IE11.zip",
    ImagePath: "/icons/IE11.png",
    Instructions: "https://www.microsoft.com/en-us/download/internet-explorer-11-for-windows-7-details.aspx"
},
{
    Title: "Inventor",
    DwldFile: "/files/Inventor.zip",
    ImagePath: "/icons/Inventor.png",
    Instructions: "http://download.autodesk.com/us/inventor/2015/inventor_2015_readme_enu.html#Installation_Instructions_"
},
{
    Title: "Map3D",
    DwldFile: "/files/Map3D.zip",
    ImagePath: "/icons/map3d.png",
    Instructions: "http://www.tips.osmre.gov/Software/cad/install/Map3D2015Install_12_15_2014.pdf"
},
{
    Title: "Maple",
    DwldFile: "/files/Maple.zip",
    ImagePath: "/icons/Maple.jpg",
    Instructions: "https://www.wpi.edu/Academics/CCC/Help/Software/Installs/maple.html"
},
{
    Title: "MathCAD",
    DwldFile: "/files/MathCAD.zip",
    ImagePath: "/icons/mathcad.png",
    Instructions: "https://www.wpi.edu/Academics/CCC/Help/Software/Installs/mathcadvxent.html"
},
{
    Title: "Mathematica",
    DwldFile: "/files/Mathematica.zip",
    ImagePath: "/icons/Mathematica.png",
    Instructions: "https://www.wpi.edu/Academics/CCC/Help/Software/Installs/mathematica7.x.html"
},
{
    Title: "Maya",
    DwldFile: "/files/Maya.zip",
    ImagePath: "/icons/Maya.png",
    Instructions: "http://download.autodesk.com/us/maya/pdfs/2013/Maya_Install_Help_enu.pdf"
},
{
    Title: "McAfee",
    DwldFile: "/files/McAfee.zip",
    ImagePath: "/icons/McAfee.jpg",
    Instructions: "https://service-home.mcafee.com/FAQDocument.aspx?lc=1033&id=TS101831"
},
{
    Title: "MEP",
    DwldFile: "/files/MEP.zip",
    ImagePath: "/icons/MEP.png",
    Instructions: "http://exchange.autodesk.com/autocad/sites/default/files/mep_pdf_installfaq_enu_v3.pdf"
},
{
    Title: "Microsoft NET Framework",
    DwldFile: "/files/MicrosoftNET.zip",
    ImagePath: "/icons/NET.png",
    Instructions: "https://msdn.microsoft.com/en-us/library/5a4x27ek%28v=vs.110%29.aspx"
},
{
    Title: "Microsoft Office",
    DwldFile: "/files/MicrosoftOffice.zip",
    ImagePath: "/icons/Office.png",
    Instructions: "https://support.office.com/en-us/article/Download-and-install-Office-using-Office-365-for-business-on-your-PC-72977511-dfd1-4d8b-856f-405cfb76839c"
},
{
    Title: "Microsoft Office Communicator",
    DwldFile: "/files/MicrosoftOfficeCommunicator.zip",
    ImagePath: "/icons/Communicator.png",
    Instructions: "http://www.ecu.edu/itcs/services/customcf/documents/communicator/Communicator2007-GettingStarted.pdf"
},
{
    Title: "Microsoft Visual Studio",
    DwldFile: "/files/MicrosoftVisualStudio.zip",
    ImagePath: "/icons/VisualStudio.png",
    Instructions: "https://msdn.microsoft.com/en-us/library/e2h7fzkw.aspx"
},
{
    Title: "Motion Builder",
    DwldFile: "/files/MotionBuilder.zip",
    ImagePath: "/icons/motionbuilder.png",
    Instructions: "http://download.autodesk.com/global/docs/motionbuilder2014-tutorial/index.html?url=files/GUID-5D34A89B-76BC-4C77-9BC2-6B9EB34B36B8.htm,topicNumber=d30e4646"
},
{
    Title: "Mudbox",
    DwldFile: "/files/Mudbox.zip",
    ImagePath: "/icons/mudbox.jpg",
    Instructions: "http://help.autodesk.com/view/ECS/2016/ENU/?guid=GUID-A6AFDEBF-4ED7-4CE7-BD06-742FB6C12484"
},
{
    Title: "Navisworks Manage",
    DwldFile: "/files/Navisworks.zip",
    ImagePath: "/icons/navisworks.png",
    Instructions: "http://download.autodesk.com/us/support/files/autodesk_navisworks_manage_2012_user_guide.pdf"
},
{
    Title: "On Center",
    DwldFile: "/files/OnCenter.zip",
    ImagePath: "/icons/on-center.jpg",
    Instructions: "http://www.oncenter.com/support/authorization2.html"
},
{
    Title: "PuTTY",
    DwldFile: "/files/PuTTY.zip",
    ImagePath: "/icons/putty.png",
    Instructions: "https://www.uaf.edu/arsc/knowledge-base/installing-and-using-putt/index.xml"
},
{
    Title: "Recap",
    DwldFile: "/files/Recap.zip",
    ImagePath: "/icons/ReCap.png",
    Instructions: "http://download.autodesk.com/SWDLDDLM/Updates/ReCap/2016/ADSK_ReCap360_Ultimate_v2.2.0.25_Readme.html"
},
{
    Title: "Remedy",
    DwldFile: "/files/Remedy.zip",
    ImagePath: "/icons/Remedy.png",
    Instructions: "https://docs.bmc.com/docs/display/public/ars81/Performing+a+new+installation"
},
{
    Title: "Remote Desktop Connection for Mac",
    DwldFile: "/files/RemoteDesktop.zip",
    ImagePath: "/icons/RDC.png",
    Instructions: "https://www.microsoft.com/en-us/download/details.aspx?id=18140"
},
{
    Title: "Revit",
    DwldFile: "/files/Revit.zip",
    ImagePath: "/icons/Revit.png",
    Instructions: "http://revit.downloads.autodesk.com/download/2016RVT_RTM/Docs/Revit%202016%20Readme.htm#Install_Configuration"
},
{
    Title: "Robot Structural Analysis",
    DwldFile: "/files/RobotStructural.zip",
    ImagePath: "/icons/RobotStructural.jpg",
    Instructions: "http://download.autodesk.com/us/support/files/robot_installation_procedure_2011_eng.pdf"
},
{
    Title: "SolidWorks",
    DwldFile: "/files/SolidWorks.zip",
    ImagePath: "/icons/SolidWorks.jpg",
    Instructions: "https://www.wpi.edu/Academics/CCC/Help/Software/Installs/solidworks.html"
},
{
    Title: "SPSS",
    DwldFile: "/files/SPSS.zip",
    ImagePath: "/icons/SPSS.png",
    Instructions: "https://www-01.ibm.com/software/analytics/spss/downloads/trial-installation.html"
},
{
    Title: "Stuffit 2010",
    DwldFile: "/files/Stuffit2010.zip",
    ImagePath: "/icons/stuffit.png",
    Instructions: "https://support.smithmicro.com/customer/portal/articles/1982252-stuffit-2010-mac-installation-instructions"
},
{
    Title: "Utility Design",
    DwldFile: "/files/UtilityDesign.zip",
    ImagePath: "/icons/UtilityDesign.jpg",
    Instructions: "http://docs.autodesk.com/UTLDESN/2014/ENU/readme/Readme-aud.htm#_Installation_and_Setup"
},
{
    Title: "Viz",
    DwldFile: "/files/Viz.zip",
    ImagePath: "/icons/VIZ.jpg",
    Instructions: "http://www.w3.org/2001/11/IsaViz/install.html"
},
{
    Title: "Windows Media Encoder",
    DwldFile: "/files/WME.zip",
    ImagePath: "/icons/WME.jpg",
    Instructions: "https://www.microsoft.com/en-us/download/details.aspx?id=8509"
},
{
    Title: "X11 for Intel Mac",
    DwldFile: "/files/X11.zip",
    ImagePath: "/icons/x11.jpg",
    Instructions: "http://www.macworld.com/article/1134207/leopardx11.html"
},
{
    Title: "X-Win32",
    DwldFile: "/files/XWin32.zip",
    ImagePath: "/icons/xwin32.png",
    Instructions: "https://helix.nih.gov/Documentation/How_To_Connect/X-Windows/xwin32.html"
}
]

var programmableLists = [];

programs();

document.getElementById("submit").addEventListener("click", programs);

var searchQuery = "";



function programs() {
    searchQuery = document.getElementById("search").value;
    console.log(searchQuery);
    document.getElementById("search").value = "";
    var req = new XMLHttpRequest();

    req.open('GET', '/programs');

    req.addEventListener("load", handleRes)

    req.send();
    return false;
}

function handleRes() {
    if (this.readyState !== XMLHttpRequest.DONE)
        return;

    if (this.status === 200) {
        sendPosts(this);
    }

}


function sendPosts(req) {
    var requestResponse = req.responseText;
    var json = JSON.parse(requestResponse);
    programmableLists = json;
    var str = "";
    var counter = 2;
    document.getElementById("left").innerHTML = "";
    document.getElementById("right").innerHTML = "";

    programmableLists.forEach( function(p, i) {
      str = programTemplate(programLists[i]);
      if ((counter % 2) == 0) {
        if (programmableLists[i].toUpperCase().indexOf(searchQuery.toUpperCase()) > -1) {
          document.getElementById("left").innerHTML += str;
          counter++;
        }
      }
      else {
        if (json[i].toUpperCase().indexOf(searchQuery.toUpperCase()) > -1) {
          document.getElementById("right").innerHTML += str;
          counter++;
        }
      }
    });

  }
