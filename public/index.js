var programLists2 = [{
    DwldFile: "/files/word.zip",
    ImagePath: "/icons/word.png",
    Instructions: "https://support.office.com/en-us/article/Download-and-install-Office-using-Office-365-for-business-on-your-PC-72977511-dfd1-4d8b-856f-405cfb76839c"
},
{
    DwldFile: "/files/ppt.zip",
    ImagePath: "/icons/ppt.png",
    Instructions: "https://www.microsoft.com/en-us/download/details.aspx?id=6"
}];

var programLists = [{
    DwldFile: "/files/Altium.zip",
    ImagePath: "/icons/Altium.jpg",
    Instructions: "https://www.wpi.edu"
},
{
    DwldFile: "/files/Audacity.zip",
    ImagePath: "/icons/Audacity.png",
    Instructions: "https://www.wpi.edu"
},
{
    DwldFile: "/files/AutoCad.zip",
    ImagePath: "/icons/AutoCAD.png",
    Instructions: "https://www.wpi.edu"
},
{
    DwldFile: "/files/CDBurnerXP.zip",
    ImagePath: "/icons/CD-Burner-XP.png",
    Instructions: "https://www.wpi.edu"
},
{
    DwldFile: "/files/CESEdupack.zip",
    ImagePath: "/icons/CESEduPack.jpg",
    Instructions: "https://www.wpi.edu"
},
{
    DwldFile: "/files/ChemDrawPro.zip",
    ImagePath: "/icons/ChemDrawPro.png",
    Instructions: "https://www.wpi.edu"
},
{
    DwldFile: "/files/Civil3D.zip",
    ImagePath: "/icons/Civil3D.jpeg",
    Instructions: "https://www.wpi.edu"
},
{
    DwldFile: "/files/Creo.zip",
    ImagePath: "/icons/Creo.png",
    Instructions: "https://www.wpi.edu"
},
{
    DwldFile: "/files/Cumulus.zip",
    ImagePath: "/icons/Cumulus.jpg",
    Instructions: "https://www.wpi.edu"
},
{
    DwldFile: "/files/DrJava.zip",
    ImagePath: "/icons/drjava.png",
    Instructions: "https://www.wpi.edu"
},
{
    DwldFile: "/files/Ecopy.zip",
    ImagePath: "/icons/ecopy.png",
    Instructions: "https://www.wpi.edu"
},
{
    DwldFile: "/files/EndNote.zip",
    ImagePath: "/icons/EndNote.jpg",
    Instructions: "https://www.wpi.edu"
},
{
    DwldFile: "/files/Flip4Mac.zip",
    ImagePath: "/icons/Flip4Mac.jpg",
    Instructions: "https://www.wpi.edu"
},
{
    DwldFile: "/files/FourWinds.zip",
    ImagePath: "/icons/FourWinds.png",
    Instructions: "https://www.wpi.edu"
},
{
    DwldFile: "/files/IE11.zip",
    ImagePath: "/icons/IE11.png",
    Instructions: "https://www.wpi.edu"
},
{
    DwldFile: "/files/Inventor.zip",
    ImagePath: "/icons/Inventor.png",
    Instructions: "https://www.wpi.edu"
},
{
    DwldFile: "/files/Map3D.zip",
    ImagePath: "/icons/map3d.png",
    Instructions: "https://www.wpi.edu"
},
{
    DwldFile: "/files/Maple.zip",
    ImagePath: "/icons/Maple.jpg",
    Instructions: "https://www.wpi.edu"
},
{
    DwldFile: "/files/MathCAD.zip",
    ImagePath: "/icons/mathcad.png",
    Instructions: "https://www.wpi.edu"
},
{
    DwldFile: "/files/Mathematica.zip",
    ImagePath: "/icons/Mathematica.png",
    Instructions: "https://www.wpi.edu"
},
{
    DwldFile: "/files/Maya.zip",
    ImagePath: "/icons/Maya.png",
    Instructions: "https://www.wpi.edu"
},
{
    DwldFile: "/files/McAfee.zip",
    ImagePath: "/icons/McAfee.jpg",
    Instructions: "https://www.wpi.edu"
},
{
    DwldFile: "/files/MEP.zip",
    ImagePath: "/icons/MEP.png",
    Instructions: "https://www.wpi.edu"
},
{
    DwldFile: "/files/MicrosoftNET.zip",
    ImagePath: "/icons/NET.png",
    Instructions: "https://www.wpi.edu"
},
{
    DwldFile: "/files/MicrosoftOffice.zip",
    ImagePath: "/icons/Office.png",
    Instructions: "https://www.wpi.edu"
},
{
    DwldFile: "/files/MicrosoftOfficeCommunicator.zip",
    ImagePath: "/icons/Communicator.png",
    Instructions: "https://www.wpi.edu"
},
{
    DwldFile: "/files/MicrosoftVisualStudio.zip",
    ImagePath: "/icons/VisualStudio.png",
    Instructions: "https://www.wpi.edu"
},
{
    DwldFile: "/files/MotionBuilder.zip",
    ImagePath: "/icons/motionbuilder.png",
    Instructions: "https://www.wpi.edu"
},
{
    DwldFile: "/files/Mudbox.zip",
    ImagePath: "/icons/mudbox.jpg",
    Instructions: "https://www.wpi.edu"
},
{
    DwldFile: "/files/Navisworks.zip",
    ImagePath: "/icons/navisworks.png",
    Instructions: "https://www.wpi.edu"
},
{
    DwldFile: "/files/OnCenter.zip",
    ImagePath: "/icons/on-center.jpg",
    Instructions: "https://www.wpi.edu"
},
{
    DwldFile: "/files/PuTTY.zip",
    ImagePath: "/icons/putty.png",
    Instructions: "https://www.wpi.edu"
},
{
    DwldFile: "/files/Recap.zip",
    ImagePath: "/icons/ReCap.png",
    Instructions: "https://www.wpi.edu"
},
{
    DwldFile: "/files/Remedy.zip",
    ImagePath: "/icons/Remedy.png",
    Instructions: "https://www.wpi.edu"
},
{
    DwldFile: "/files/RemoteDesktop.zip",
    ImagePath: "/icons/RDC.png",
    Instructions: "https://www.wpi.edu"
},
{
    DwldFile: "/files/Revit.zip",
    ImagePath: "/icons/Revit.png",
    Instructions: "https://www.wpi.edu"
},
{
    DwldFile: "/files/RobotStructural.zip",
    ImagePath: "/icons/RobotStructural.jpg",
    Instructions: "https://www.wpi.edu"
},
{
    DwldFile: "/files/SolidWorks.zip",
    ImagePath: "/icons/SolidWorks.jpg",
    Instructions: "https://www.wpi.edu"
},
{
    DwldFile: "/files/SPSS.zip",
    ImagePath: "/icons/SPSS.png",
    Instructions: "https://www.wpi.edu"
},
{
    DwldFile: "/files/Stuffit2010.zip",
    ImagePath: "/icons/stuffit.png",
    Instructions: "https://www.wpi.edu"
},
{
    DwldFile: "/files/UtilityDesign.zip",
    ImagePath: "/icons/UtilityDesign.jpg",
    Instructions: "https://www.wpi.edu"
},
{
    DwldFile: "/files/Viz.zip",
    ImagePath: "/icons/VIZ.jpg",
    Instructions: "https://www.wpi.edu"
},
{
    DwldFile: "/files/WME.zip",
    ImagePath: "/icons/WME.jpg",
    Instructions: "https://www.wpi.edu"
},
{
    DwldFile: "/files/X11.zip",
    ImagePath: "/icons/x11.jpg",
    Instructions: "https://www.wpi.edu"
},
{
    DwldFile: "/files/XWin32.zip",
    ImagePath: "/icons/xwin32.png",
    Instructions: "https://www.wpi.edu"
}
]

var programmableLists = [];

programs();

document.getElementById("submit").addEventListener("click", programs);

var searchQuery = "";



function programs() {
    var req = new XMLHttpRequest();

    req.open('GET', '/programs');

    req.addEventListener("load", handleRes)

    req.send();
    return false;
}

function handleRes() {
    if (this.readyState !== XMLHttpRequest.DONE)
        return;

    if (this.status === 200) {
        sendPosts(this);
    }

}


function sendPosts(req) {
    var requestResponse = req.responseText;
    var json = JSON.parse(requestResponse);
    programmableLists = json;
    var str = "";
    var counter = 2;
    document.getElementById("left").innerHTML = "";
    document.getElementById("right").innerHTML = "";

    programmableLists.forEach( function(p, i) {
      str = programTemplate(programLists[i]);
      if ((counter % 2) == 0) {
        document.getElementById("left").innerHTML += str;
      }
      else {
        document.getElementById("right").innerHTML += str;
      }
      counter++;
    });

  }
